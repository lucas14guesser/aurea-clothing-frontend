import{h as M,f as T,a,j as e,b as q,S as w}from"./GlobalStyles-Dqpp29B9.js";import{C as N,S as _,F as t,L as r,I as o,B as I,b as z,T as B,c as D}from"./ContaUserStyles-jzYrjlID.js";import{a as P,b as v,c as k,R as O}from"./index-CmN5j4cY.js";import{a as A}from"./axios-DnYME9kn.js";function G(){var f;const U=M(),y=T(),c=((f=U.state)==null?void 0:f.emailSettado)||"",[d,u]=a.useState(""),[m,h]=a.useState(""),[x,j]=a.useState(""),[p,g]=a.useState(""),[S,l]=a.useState(""),[C,i]=a.useState(""),F=async s=>{var b,L;s.preventDefault();const R={nome_user:d,sobrenome_user:m,telefone_user:x,email_user:c,senha_user:p};try{const n=await A.post("http://localhost:3001/aurea/usuario",R);n.status===201||n.status===200?(i("Usuário cadastrado com sucesso!"),l(""),u(""),h(""),j(""),g(""),setTimeout(()=>{y("/login")},1e3)):(l("Não foi possível realizar o cadastro. Tente novamente"),i(""))}catch(n){const E=(L=(b=n.response)==null?void 0:b.data)==null?void 0:L.error;l(E),i("")}};return e.jsxs(N,{children:[e.jsx(_,{children:"Realize seu cadastro"}),e.jsxs("form",{onSubmit:F,children:[e.jsxs(t,{children:[e.jsx(r,{htmlFor:"email-cadastro",children:e.jsx(P,{})}),e.jsx(o,{type:"email",name:"email-cadastro",id:"email-cadastro",placeholder:"E-mail",required:!0,value:c,readOnly:!0})]}),e.jsxs(t,{children:[e.jsx(r,{htmlFor:"nome-cadastro",children:e.jsx(v,{})}),e.jsx(o,{type:"text",name:"nome-completo-cadastro",id:"nome-cadastro",placeholder:"Nome",required:!0,value:d,onChange:s=>u(s.target.value)})]}),e.jsxs(t,{children:[e.jsx(r,{htmlFor:"sobrenome-cadastro",children:e.jsx(v,{})}),e.jsx(o,{type:"text",name:"sobrenome-cadastro",id:"sobrenome-cadastro",placeholder:"Sobrenome",required:!0,value:m,onChange:s=>h(s.target.value)})]}),e.jsxs(t,{children:[e.jsx(r,{htmlFor:"telefone-cadastro",children:e.jsx(k,{})}),e.jsx(o,{type:"text",name:"telefone-cadastro",id:"telefone-cadastro",placeholder:"Número de celular",required:!0,value:x,onChange:s=>j(s.target.value)})]}),e.jsxs(t,{children:[e.jsx(r,{htmlFor:"senha-cadastro",children:e.jsx(O,{})}),e.jsx(o,{type:"password",name:"senha-cadastro",id:"senha-cadastro",placeholder:"Senha",required:!0,value:p,onChange:s=>g(s.target.value)})]}),S&&e.jsx(q,{children:S}),C&&e.jsx(w,{children:C}),e.jsx(I,{type:"submit",children:"Cadastrar"})]})]})}function V(){return e.jsxs(z,{children:[" ",e.jsx(B,{children:"Sessão de cadastro"})," ",e.jsxs(D,{children:[" ",e.jsx(G,{})," "]})]})}export{V as C};
