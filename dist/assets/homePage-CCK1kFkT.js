import{j as t,a as s,n as Ce,f as Z,g as Q,k as ye,R as Le}from"./GlobalStyles-Dqpp29B9.js";import{C as ze,S as xe,T as ve,a as je,b as Pe,I as $e,P as Ie,N as Fe,c as K,d as Y,e as ee,f as te,g as oe,h as re,i as ae,j as se,k as ie,l as be,B as x,m as ne,n as Re}from"./HomePageStyles-CJMC4Gvw.js";import{G as fe,a as u}from"./axios-DnYME9kn.js";import{a as Je}from"./index-D6JL9M7r.js";import{m as ce,n as F}from"./CategoriaProdutosStyle-Bi6KNH5F.js";import{a as de,b as le,c as ue,T as _e}from"./index-CJGrLZTX.js";import{U as he}from"./userContext-D66xfPlX.js";import{g as pe,f as X,b as me,i as R,p as ge}from"./Functions-D5_z5ReH.js";import{M as Se}from"./ModalAvisar-Y_GjLJ4T.js";import{d as Oe}from"./ModalsStyles-CkMaqKjX.js";import{d as we,e as ke}from"./ProdutosStyle-8Z2-wOEa.js";import{a as Ne,d as Be}from"./index-CmN5j4cY.js";import{F as Ae,B as Ee}from"./ContaUserStyles-jzYrjlID.js";function At(a){return fe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(a)}function bt(a){return fe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(a)}function wt(a){return fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(a)}function We(a){return fe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(a)}function Ve(a){return fe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M527.9 32H48.1C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48.1 48h479.8c26.6 0 48.1-21.5 48.1-48V80c0-26.5-21.5-48-48.1-48zM54.1 80h467.8c3.3 0 6 2.7 6 6v42H48.1V86c0-3.3 2.7-6 6-6zm467.8 352H54.1c-3.3 0-6-2.7-6-6V256h479.8v170c0 3.3-2.7 6-6 6zM192 332v40c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12zm192 0v40c0 6.6-5.4 12-12 12H236c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12z"},child:[]}]})(a)}function kt(a){return fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(a)}function Me(){return t.jsxs(ze,{children:[t.jsxs(xe,{children:[t.jsx(ve,{children:t.jsx(We,{})}),t.jsxs(je,{children:[t.jsx("strong",{style:{fontWeight:"500"},children:"Envio"}),t.jsx("br",{}),"Enviamos para todo o Brasil"]})]}),t.jsxs(xe,{children:[t.jsx(ve,{children:t.jsx(Ve,{})}),t.jsxs(je,{children:[t.jsx("strong",{style:{fontWeight:"500"},children:"Parcelamento"}),t.jsx("br",{}),"Parcelamos em até 3x sem juros"]})]}),t.jsxs(xe,{children:[t.jsx(ve,{children:t.jsx(Je,{})}),t.jsxs(je,{children:[t.jsx("strong",{style:{fontWeight:"500"},children:"Segurança"}),t.jsx("br",{}),"Loja com selo de proteção"]})]})]})}const qe=a=>{const[j,g]=s.useState(0);return{counterSlideBanner:j,nextSlideBanner:()=>{g(l=>(l+1)%a)},prevSlideBanner:()=>{g(l=>(l-1+a)%a)}}};function De(a){const[j,g]=s.useState(0),[d,f]=s.useState(l());s.useEffect(()=>{const i=()=>{f(l())};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]);function l(){const i=window.innerWidth;return i<=430?1:i<=630?2:3}return{counterSlideLancamentos:j,nextSlideLancamentos:()=>{g(i=>i+d<a?i+d:0)},prevSlideLancamentos:()=>{g(i=>i-d>=0?i-d:a-(a%d||d))}}}function He(a){const[j,g]=s.useState(0),[d,f]=s.useState(l());s.useEffect(()=>{const i=()=>{f(l())};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]);function l(){const i=window.innerWidth;return i<=430?1:i<=630?2:3}return{counterSlidePromocoes:j,nextSlidePromocoes:()=>{g(i=>i+d<a?i+d:0)},prevSlidePromocoes:()=>{g(i=>i-d>=0?i-d:a-(a%d||d))}}}const Ue=a=>{const[j,g]=s.useState(0),[d,f]=s.useState(l());s.useEffect(()=>{const i=()=>{f(l())};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]);function l(){const i=window.innerWidth;return i<=430?1:i<=630?2:3}return{counterSlideAlfaiataria:j,nextSlideAlfaiataria:()=>{g(i=>i+d<a?i+d:0)},prevSlideAlfaiataria:()=>{g(i=>i-d>=0?i-d:a-(a%d||d))}}},Te=a=>{const[j,g]=s.useState(0),[d,f]=s.useState(l());s.useEffect(()=>{const i=()=>{f(l())};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]);function l(){const i=window.innerWidth;return i<=430?1:i<=630?2:3}return{counterSlideJeans:j,nextSlideJeans:()=>{g(i=>i+d<a?i+d:0)},prevSlideJeans:()=>{g(i=>i-d>=0?i-d:a-(a%d||d))}}},Ge=a=>{const[j,g]=s.useState(0),[d,f]=s.useState(l());s.useEffect(()=>{const i=()=>{f(l())};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]);function l(){const i=window.innerWidth;return i<=430?1:i<=630?2:3}return{counterSlideMacaquinhos:j,nextSlideMacaquinhos:()=>{g(i=>i+d<a?i+d:0)},prevSlideMacaquinhos:()=>{g(i=>i-d>=0?i-d:a-(a%d||d))}}},Qe=a=>{const[j,g]=s.useState(0),[d,f]=s.useState(l());s.useEffect(()=>{const i=()=>{f(l())};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]);function l(){const i=window.innerWidth;return i<=430?1:i<=630?2:3}return{counterSlideConjuntos:j,nextSlideConjuntos:()=>{g(i=>i+d<a?i+d:0)},prevSlideConjuntos:()=>{g(i=>i-d>=0?i-d:a-(a%d||d))}}},Xe=a=>{const[j,g]=s.useState(0),[d,f]=s.useState(l());s.useEffect(()=>{const i=()=>{f(l())};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]);function l(){const i=window.innerWidth;return i<=430?1:i<=630?2:3}return{counterSlideVestidos:j,nextSlideVestidos:()=>{g(i=>i+d<a?i+d:0)},prevSlideVestidos:()=>{g(i=>i-d>=0?i-d:a-(a%d||d))}}},Ze=a=>{const[j,g]=s.useState(0),[d,f]=s.useState(l());s.useEffect(()=>{const i=()=>{f(l())};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]);function l(){const i=window.innerWidth;return i<=430?1:i<=630?2:3}return{counterSlideShorts:j,nextSlideShorts:()=>{g(i=>i+d<a?i+d:0)},prevSlideShorts:()=>{g(i=>i-d>=0?i-d:a-(a%d||d))}}},Ke=a=>{const[j,g]=s.useState(0),[d,f]=s.useState(l());s.useEffect(()=>{const i=()=>{f(l())};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]);function l(){const i=window.innerWidth;return i<=430?1:i<=630?2:3}return{counterSlideAcessorios:j,nextSlideAcessorios:()=>{g(i=>i+d<a?i+d:0)},prevSlideAcessorios:()=>{g(i=>i-d>=0?i-d:a-(a%d||d))}}};function Ye(){const[a,j]=s.useState([]);s.useEffect(()=>{(async()=>{try{const S=await u.get("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/banners");j(S.data.result)}catch(S){console.error("Erro ao listar banners.",S)}})()},[]);const{counterSlideBanner:g,nextSlideBanner:d,prevSlideBanner:f}=qe(a.length);return s.useEffect(()=>{const l=setInterval(()=>{d()},3e3);return()=>clearInterval(l)},[d]),t.jsxs(Ce,{children:[t.jsx(Pe,{$slideIndex:g,children:a.map(l=>t.jsx($e,{src:l.img_banner,alt:l.nome_banner},l.id_banner))}),t.jsx(Ie,{onClick:f,children:"❮"}),t.jsx(Fe,{onClick:d,children:"❯"})]})}function et(){const{user:a}=s.useContext(he),[j,g]=s.useState([]),[d,f]=s.useState([]),[l,S]=s.useState({}),[h,i]=s.useState({}),[v,b]=s.useState(""),[_,J]=s.useState(null),[w,O]=s.useState(!1),[k,N]=s.useState(!1),B=Z();s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`listaAmei_${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});S(r)}},[a]),s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});i(r)}},[a]),s.useEffect(()=>{(async()=>{try{const o=(await u.get("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/produtos")).data.result;g(o);const n=o.filter(c=>c.categoria_produto.toLowerCase()==="lancamentos"),p=ge(n);f(p)}catch(r){console.error("Erro ao buscar produtos:",r)}})()},[]);const{counterSlideLancamentos:W,nextSlideLancamentos:L,prevSlideLancamentos:C}=De(d.length),y=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar à lista amei.");return}const r=a.id_user;try{const o=JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[];if(o.some(m=>m.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}`)).data.some(m=>m.id_produto===e.id_produto))return;const c=await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei",{id_user:r,id_produto:e.id_produto});if(c.status!==200&&c.status!==201)throw new Error('Erro ao adicionar o produto à lista "Amei".');o.push(e),localStorage.setItem(`listaAmei_${r}`,JSON.stringify(o)),S(m=>({...m,[e.id_produto]:!0}))}catch{console.error('Erro ao adicionar à lista "Amei"'),alert("Erro ao adicionar o produto à lista.")}},$=async e=>{try{const r=a.id_user;await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}/${e}`);const n=(JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[]).filter(p=>p.id_produto!==e);localStorage.setItem(`listaAmei_${r}`,JSON.stringify(n)),S(p=>({...p,[e]:!1}))}catch(r){console.error('Erro ao remover produto da lista "Amei":',r),alert("Erro ao remover o produto da lista.")}},z=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar ao carrinho.");return}const r=a.id_user;if(e.qtd_produto===0){alert("Você não pode colocar um produto sem estoque no carrinho.");return}else try{const o=JSON.parse(localStorage.getItem(`carrinho${r}`))||[];if(o.some(c=>c.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${r}`)).data.some(c=>c.id_produto===e.id_produto))return;await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho",{id_user:r,id_produto:e.id_produto,qtd_produto_carrinho:1}),o.push(e),localStorage.setItem(`carrinho${r}`,JSON.stringify(o)),i(c=>({...c,[e.id_produto]:!0}))}catch(o){console.error("Erro ao adicionar ao carrinho:",o),alert("Erro ao adicionar o produto no carrinho.")}},I=async e=>{try{await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${a.id_user}/${e}`);const o=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).filter(n=>n.id_produto!==e);localStorage.setItem(`carrinho${a.id_user}`,JSON.stringify(o)),i(n=>({...n,[e]:!1}))}catch(r){console.error("Erro ao remover produto do carrinho:",r),alert("Erro ao remover o produto do carrinho.")}},V=e=>{J(e),N(!k)},P=async e=>{e.preventDefault(),O(!0);const r={email_user:v,nome_produto:_.nome_produto};try{const o=await u.post(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/aviso/${_.nome_produto}`,r);o.status===200&&o.data.message==="E-mail enviado com sucesso!"?(alert("E-mail enviado com sucesso!"),b("")):alert(o.data.message||"Erro ao enviar e-mail.")}catch(o){console.error(o),(!o.response||o.response.status>=500)&&alert("Erro ao enviar e-mail.")}},A=e=>{e==="Não contém produto"?alert("Produto não existe!"):B(`/produto/${e}`)};s.useEffect(()=>{const e=setInterval(()=>{L()},6e3);return()=>clearInterval(e)},[L]);const[M,q]=s.useState(E());s.useEffect(()=>{const e=()=>{q(E())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);function E(){const e=window.innerWidth;return e<=360?"small-360":e<=430?"small":e<=630?"medium":e<=1220?"large":"extra-large"}const D={"small-360":{imageWidth:16,gapSize:1,paddingSize:.5},small:{imageWidth:19,gapSize:1,paddingSize:.5},medium:{imageWidth:14,gapSize:.75,paddingSize:.75},large:{imageWidth:16,gapSize:1,paddingSize:1},"extra-large":{imageWidth:19,gapSize:1,paddingSize:1}},{imageWidth:H,gapSize:U,paddingSize:T}=D[M],G=H+U+2*T;return t.jsxs(K,{children:[t.jsx(Y,{children:"Lançamentos"}),t.jsxs(ee,{children:[t.jsx(te,{onClick:C,children:"❮"}),t.jsxs(oe,{children:[t.jsx(re,{style:{transform:`translateX(${-W*G}rem)`},children:d.map((e,r)=>t.jsxs(ae,{onClick:()=>A(e.nome_produto),children:[t.jsx(se,{src:pe(e.img_produto),alt:e.nome_produto}),t.jsx(ie,{children:e.nome_produto}),t.jsx(be,{children:X(e.preco_produto)}),t.jsx(be,{children:me(e.parcela_produto)}),!R(e)&&t.jsxs(ce,{children:[t.jsx(F,{title:l[e.id_produto]?'Remover da lista "Amei"':'Adicionar à lista "Amei"',onClick:o=>{o.stopPropagation(),l[e.id_produto]?$(e.id_produto):y(e)},children:l[e.id_produto]?t.jsx(TbHeartFilled,{}):t.jsx(de,{})}),t.jsx(F,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?I(e.id_produto):z(e)},children:h[e.id_produto]?t.jsx(le,{}):t.jsx(ue,{})})]}),e?R(e)?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Produto indisponível"}):e.qtd_produto===0?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Avise quando chegar"}):t.jsx(x,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?I(e.id_produto):z(e)},children:h[e.id_produto]?"Remover do carrinho":"Adicionar ao carrinho"}):t.jsx(x,{children:"Produto indisponível"})]},e.id_produto||r))}),k&&t.jsx(Se,{children:t.jsxs(ModalInternalContainer,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsx(Subtitulo,{children:"Preencha os campos"}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiMailLine,{})}),t.jsx(InputProdutos,{type:"email",placeholder:"E-mail",value:v,onChange:e=>b(e.target.value)})]}),_&&t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiProductHuntLine,{})}),t.jsx(InputProdutos,{type:"text",value:_.nome_produto,readOnly:!0})]}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(ButtonLoginCadastro,{type:"submit",onClick:P,disabled:w||!v,style:{width:"10rem"},children:w?"Enviando...":"Enviar"}),t.jsx(ButtonLoginCadastro,{onClick:V,style:{width:"10rem"},children:"Fechar"})]})]})})]}),t.jsx(ne,{onClick:L,children:"❯"})]})]})}function tt(){const{user:a}=s.useContext(he),[j,g]=s.useState([]),[d,f]=s.useState([]),[l,S]=s.useState({}),[h,i]=s.useState({}),[v,b]=s.useState(""),[_,J]=s.useState(null),[w,O]=s.useState(!1),[k,N]=s.useState(!1),B=Z();s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`listaAmei_${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});S(r)}},[a]),s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});i(r)}},[a]),s.useEffect(()=>{(async()=>{try{const o=(await u.get("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/produtos")).data.result;g(o);const n=o.filter(c=>c.categoria_produto.toLowerCase()==="jeans"),p=ge(n);f(p)}catch(r){console.error("Erro ao buscar produtos:",r)}})()},[]);const W=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar à lista amei.");return}const r=a.id_user;try{const o=JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[];if(o.some(m=>m.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}`)).data.some(m=>m.id_produto===e.id_produto))return;const c=await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei",{id_user:r,id_produto:e.id_produto});if(c.status!==200&&c.status!==201)throw new Error('Erro ao adicionar o produto à lista "Amei".');o.push(e),localStorage.setItem(`listaAmei_${r}`,JSON.stringify(o)),S(m=>({...m,[e.id_produto]:!0}))}catch{console.error('Erro ao adicionar à lista "Amei"'),alert("Erro ao adicionar o produto à lista.")}},L=async e=>{try{const r=a.id_user;await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}/${e}`);const n=(JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[]).filter(p=>p.id_produto!==e);localStorage.setItem(`listaAmei_${r}`,JSON.stringify(n)),S(p=>({...p,[e]:!1}))}catch(r){console.error('Erro ao remover produto da lista "Amei":',r),alert("Erro ao remover o produto da lista.")}},C=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar ao carrinho.");return}const r=a.id_user;if(e.qtd_produto===0){alert("Você não pode colocar um produto sem estoque no carrinho.");return}else try{const o=JSON.parse(localStorage.getItem(`carrinho${r}`))||[];if(o.some(c=>c.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${r}`)).data.some(c=>c.id_produto===e.id_produto))return;await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho",{id_user:r,id_produto:e.id_produto,qtd_produto_carrinho:1}),o.push(e),localStorage.setItem(`carrinho${r}`,JSON.stringify(o)),i(c=>({...c,[e.id_produto]:!0}))}catch(o){console.error("Erro ao adicionar ao carrinho:",o),alert("Erro ao adicionar o produto no carrinho.")}},y=async e=>{try{await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${a.id_user}/${e}`);const o=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).filter(n=>n.id_produto!==e);localStorage.setItem(`carrinho${a.id_user}`,JSON.stringify(o)),i(n=>({...n,[e]:!1}))}catch(r){console.error("Erro ao remover produto do carrinho:",r),alert("Erro ao remover o produto do carrinho.")}},$=e=>{J(e),N(!k)},z=async e=>{e.preventDefault(),O(!0);const r={email_user:v,nome_produto:_.nome_produto};try{const o=await u.post(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/aviso/${_.nome_produto}`,r);o.status===200&&o.data.message==="E-mail enviado com sucesso!"?(alert("E-mail enviado com sucesso!"),b("")):alert(o.data.message||"Erro ao enviar e-mail.")}catch(o){console.error(o),(!o.response||o.response.status>=500)&&alert("Erro ao enviar e-mail.")}},I=e=>{B(`/produto/${e}`)},{counterSlideJeans:V,prevSlideJeans:P,nextSlideJeans:A}=Te(d.length);s.useEffect(()=>{const e=setInterval(()=>{A()},6e3);return()=>clearInterval(e)},[A]);const[M,q]=s.useState(E());s.useEffect(()=>{const e=()=>{q(E())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);function E(){const e=window.innerWidth;return e<=360?"small-360":e<=430?"small":e<=630?"medium":e<=1220?"large":"extra-large"}const D={"small-360":{imageWidth:16,gapSize:1,paddingSize:.5},small:{imageWidth:19,gapSize:1,paddingSize:.5},medium:{imageWidth:14,gapSize:.75,paddingSize:.75},large:{imageWidth:16,gapSize:1,paddingSize:1},"extra-large":{imageWidth:19,gapSize:1,paddingSize:1}},{imageWidth:H,gapSize:U,paddingSize:T}=D[M],G=H+U+2*T;return t.jsxs(K,{children:[t.jsx(Y,{children:"Jeans"}),t.jsxs(ee,{children:[t.jsx(te,{onClick:P,children:"❮"}),t.jsxs(oe,{children:[t.jsx(re,{style:{transform:`translateX(${-V*G}rem)`},children:d.map((e,r)=>t.jsxs(ae,{onClick:()=>I(e.nome_produto),children:[t.jsx(se,{src:pe(e.img_produto),alt:e.nome_produto}),t.jsx(ie,{children:e.nome_produto}),t.jsx(Q,{children:X(e.preco_produto)}),t.jsx(Q,{children:me(e.parcela_produto)}),!R(e)&&t.jsxs(ce,{children:[t.jsx(F,{title:l[e.id_produto]?'Remover da lista "Amei"':'Adicionar à lista "Amei"',onClick:o=>{o.stopPropagation(),l[e.id_produto]?L(e.id_produto):W(e)},children:l[e.id_produto]?t.jsx(_e,{}):t.jsx(de,{})}),t.jsx(F,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?y(e.id_produto):C(e)},children:h[e.id_produto]?t.jsx(le,{}):t.jsx(ue,{})})]}),e?R(e)?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Produto indisponível"}):e.qtd_produto===0?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Avise quando chegar"}):t.jsx(x,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?y(e.id_produto):C(e)},children:h[e.id_produto]?"Remover do carrinho":"Adicionar ao carrinho"}):t.jsx(x,{children:"Produto indisponível"})]},e.id_produto||r))}),k&&t.jsx(Se,{children:t.jsxs(ModalInternalContainer,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsx(Subtitulo,{children:"Preencha os campos"}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiMailLine,{})}),t.jsx(InputProdutos,{type:"email",placeholder:"E-mail",value:v,onChange:e=>b(e.target.value)})]}),_&&t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiProductHuntLine,{})}),t.jsx(InputProdutos,{type:"text",value:_.nome_produto,readOnly:!0})]}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(ButtonLoginCadastro,{type:"submit",onClick:z,disabled:w||!v,style:{width:"10rem"},children:w?"Enviando...":"Enviar"}),t.jsx(ButtonLoginCadastro,{onClick:$,style:{width:"10rem"},children:"Fechar"})]})]})})]}),t.jsx(ne,{onClick:A,children:"❯"})]})]})}function ot(){const{user:a}=s.useContext(he),[j,g]=s.useState([]),[d,f]=s.useState([]),[l,S]=s.useState({}),[h,i]=s.useState({}),[v,b]=s.useState(""),[_,J]=s.useState(null),[w,O]=s.useState(!1),[k,N]=s.useState(!1),B=Z();s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`listaAmei_${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});S(r)}},[a]),s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});i(r)}},[a]),s.useEffect(()=>{(async()=>{try{const o=(await u.get("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/produtos")).data.result;g(o);const n=o.filter(c=>c.categoria_produto.toLowerCase()==="acessorios"),p=ge(n);f(p)}catch(r){console.error("Erro ao buscar produtos:",r)}})()},[]);const W=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar à lista amei.");return}const r=a.id_user;try{const o=JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[];if(o.some(m=>m.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}`)).data.some(m=>m.id_produto===e.id_produto))return;const c=await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei",{id_user:r,id_produto:e.id_produto});if(c.status!==200&&c.status!==201)throw new Error('Erro ao adicionar o produto à lista "Amei".');o.push(e),localStorage.setItem(`listaAmei_${r}`,JSON.stringify(o)),S(m=>({...m,[e.id_produto]:!0}))}catch{console.error('Erro ao adicionar à lista "Amei"'),alert("Erro ao adicionar o produto à lista.")}},L=async e=>{try{const r=a.id_user;await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}/${e}`);const n=(JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[]).filter(p=>p.id_produto!==e);localStorage.setItem(`listaAmei_${r}`,JSON.stringify(n)),S(p=>({...p,[e]:!1}))}catch(r){console.error('Erro ao remover produto da lista "Amei":',r),alert("Erro ao remover o produto da lista.")}},C=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar ao carrinho.");return}const r=a.id_user;if(e.qtd_produto===0){alert("Você não pode colocar um produto sem estoque no carrinho.");return}else try{const o=JSON.parse(localStorage.getItem(`carrinho${r}`))||[];if(o.some(c=>c.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${r}`)).data.some(c=>c.id_produto===e.id_produto))return;await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho",{id_user:r,id_produto:e.id_produto,qtd_produto_carrinho:1}),o.push(e),localStorage.setItem(`carrinho${r}`,JSON.stringify(o)),i(c=>({...c,[e.id_produto]:!0}))}catch(o){console.error("Erro ao adicionar ao carrinho:",o),alert("Erro ao adicionar o produto no carrinho.")}},y=async e=>{try{await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${a.id_user}/${e}`);const o=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).filter(n=>n.id_produto!==e);localStorage.setItem(`carrinho${a.id_user}`,JSON.stringify(o)),i(n=>({...n,[e]:!1}))}catch(r){console.error("Erro ao remover produto do carrinho:",r),alert("Erro ao remover o produto do carrinho.")}},$=e=>{J(e),N(!k)},z=async e=>{e.preventDefault(),O(!0);const r={email_user:v,nome_produto:_.nome_produto};try{const o=await u.post(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/aviso/${_.nome_produto}`,r);o.status===200&&o.data.message==="E-mail enviado com sucesso!"?(alert("E-mail enviado com sucesso!"),b("")):alert(o.data.message||"Erro ao enviar e-mail.")}catch(o){console.error(o),(!o.response||o.response.status>=500)&&alert("Erro ao enviar e-mail.")}},I=e=>{B(`/produto/${e}`)},{counterSlideAcessorios:V,prevSlideAcessorios:P,nextSlideAcessorios:A}=Ke(d.length);s.useEffect(()=>{const e=setInterval(()=>{A()},6e3);return()=>clearInterval(e)},[A]);const[M,q]=s.useState(E());s.useEffect(()=>{const e=()=>{q(E())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);function E(){const e=window.innerWidth;return e<=360?"small-360":e<=430?"small":e<=630?"medium":e<=1220?"large":"extra-large"}const D={"small-360":{imageWidth:16,gapSize:1,paddingSize:.5},small:{imageWidth:19,gapSize:1,paddingSize:.5},medium:{imageWidth:14,gapSize:.75,paddingSize:.75},large:{imageWidth:16,gapSize:1,paddingSize:1},"extra-large":{imageWidth:19,gapSize:1,paddingSize:1}},{imageWidth:H,gapSize:U,paddingSize:T}=D[M],G=H+U+2*T;return t.jsxs(K,{children:[t.jsx(Y,{children:"Acessórios"}),t.jsxs(ee,{children:[t.jsx(te,{onClick:P,children:"❮"}),t.jsxs(oe,{children:[t.jsx(re,{style:{transform:`translateX(${-V*G}rem)`},children:d.map((e,r)=>t.jsxs(ae,{onClick:()=>I(e.nome_produto),children:[t.jsx(se,{src:pe(e.img_produto),alt:e.nome_produto}),t.jsx(ie,{children:e.nome_produto}),t.jsx(Q,{children:X(e.preco_produto)}),t.jsx(Q,{children:me(e.parcela_produto)}),!R(e)&&t.jsxs(ce,{children:[t.jsx(F,{title:l[e.id_produto]?'Remover da lista "Amei"':'Adicionar à lista "Amei"',onClick:o=>{o.stopPropagation(),l[e.id_produto]?L(e.id_produto):W(e)},children:l[e.id_produto]?t.jsx(_e,{}):t.jsx(de,{})}),t.jsx(F,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?y(e.id_produto):C(e)},children:h[e.id_produto]?t.jsx(le,{}):t.jsx(ue,{})})]}),e?R(e)?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Produto indisponível"}):e.qtd_produto===0?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Avise quando chegar"}):t.jsx(x,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?y(e.id_produto):C(e)},children:h[e.id_produto]?"Remover do carrinho":"Adicionar ao carrinho"}):t.jsx(x,{children:"Produto indisponível"})]},e.id_produto||r))}),k&&t.jsx(Se,{children:t.jsxs(ModalInternalContainer,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsx(Subtitulo,{children:"Preencha os campos"}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiMailLine,{})}),t.jsx(InputProdutos,{type:"email",placeholder:"E-mail",value:v,onChange:e=>b(e.target.value)})]}),_&&t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiProductHuntLine,{})}),t.jsx(InputProdutos,{type:"text",value:_.nome_produto,readOnly:!0})]}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(ButtonLoginCadastro,{type:"submit",onClick:z,disabled:w||!v,style:{width:"10rem"},children:w?"Enviando...":"Enviar"}),t.jsx(ButtonLoginCadastro,{onClick:$,style:{width:"10rem"},children:"Fechar"})]})]})})]}),t.jsx(ne,{onClick:A,children:"❯"})]})]})}function rt(){const{user:a}=s.useContext(he),[j,g]=s.useState([]),[d,f]=s.useState([]),[l,S]=s.useState({}),[h,i]=s.useState({}),[v,b]=s.useState(""),[_,J]=s.useState(null),[w,O]=s.useState(!1),[k,N]=s.useState(!1),B=Z();s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`listaAmei_${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});S(r)}},[a]),s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});i(r)}},[a]),s.useEffect(()=>{(async()=>{try{const o=(await u.get("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/produtos")).data.result;g(o);const n=o.filter(c=>c.categoria_produto.toLowerCase()==="promocoes"),p=ge(n);f(p)}catch(r){console.error("Erro ao buscar produtos:",r)}})()},[]);const W=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar à lista amei.");return}const r=a.id_user;try{const o=JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[];if(o.some(m=>m.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}`)).data.some(m=>m.id_produto===e.id_produto))return;const c=await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei",{id_user:r,id_produto:e.id_produto});if(c.status!==200&&c.status!==201)throw new Error('Erro ao adicionar o produto à lista "Amei".');o.push(e),localStorage.setItem(`listaAmei_${r}`,JSON.stringify(o)),S(m=>({...m,[e.id_produto]:!0}))}catch{console.error('Erro ao adicionar à lista "Amei"'),alert("Erro ao adicionar o produto à lista.")}},L=async e=>{try{const r=a.id_user;await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}/${e}`);const n=(JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[]).filter(p=>p.id_produto!==e);localStorage.setItem(`listaAmei_${r}`,JSON.stringify(n)),S(p=>({...p,[e]:!1}))}catch(r){console.error('Erro ao remover produto da lista "Amei":',r),alert("Erro ao remover o produto da lista.")}},C=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar ao carrinho.");return}const r=a.id_user;if(e.qtd_produto===0){alert("Você não pode colocar um produto sem estoque no carrinho.");return}else try{const o=JSON.parse(localStorage.getItem(`carrinho${r}`))||[];if(o.some(c=>c.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${r}`)).data.some(c=>c.id_produto===e.id_produto))return;await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho",{id_user:r,id_produto:e.id_produto,qtd_produto_carrinho:1}),o.push(e),localStorage.setItem(`carrinho${r}`,JSON.stringify(o)),i(c=>({...c,[e.id_produto]:!0}))}catch(o){console.error("Erro ao adicionar ao carrinho:",o),alert("Erro ao adicionar o produto no carrinho.")}},y=async e=>{try{await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${a.id_user}/${e}`);const o=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).filter(n=>n.id_produto!==e);localStorage.setItem(`carrinho${a.id_user}`,JSON.stringify(o)),i(n=>({...n,[e]:!1}))}catch(r){console.error("Erro ao remover produto do carrinho:",r),alert("Erro ao remover o produto do carrinho.")}},$=e=>{J(e),N(!k)},z=async e=>{e.preventDefault(),O(!0);const r={email_user:v,nome_produto:_.nome_produto};try{const o=await u.post(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/aviso/${_.nome_produto}`,r);o.status===200&&o.data.message==="E-mail enviado com sucesso!"?(alert("E-mail enviado com sucesso!"),b("")):alert(o.data.message||"Erro ao enviar e-mail.")}catch(o){console.error(o),(!o.response||o.response.status>=500)&&alert("Erro ao enviar e-mail.")}},I=e=>{B(`/produto/${e}`)},{counterSlidePromocoes:V,nextSlidePromocoes:P,prevSlidePromocoes:A}=He(d.length);s.useEffect(()=>{const e=setInterval(()=>{P()},6e3);return()=>clearInterval(e)},[P]);const[M,q]=s.useState(E());s.useEffect(()=>{const e=()=>{q(E())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);function E(){const e=window.innerWidth;return e<=360?"small-360":e<=430?"small":e<=630?"medium":e<=1220?"large":"extra-large"}const D={"small-360":{imageWidth:16,gapSize:1,paddingSize:.5},small:{imageWidth:19,gapSize:1,paddingSize:.5},medium:{imageWidth:14,gapSize:.75,paddingSize:.75},large:{imageWidth:16,gapSize:1,paddingSize:1},"extra-large":{imageWidth:19,gapSize:1,paddingSize:1}},{imageWidth:H,gapSize:U,paddingSize:T}=D[M],G=H+U+2*T;return t.jsxs(K,{children:[t.jsx(Y,{children:"Promoções"}),t.jsxs(ee,{children:[t.jsx(te,{onClick:A,children:"❮"}),t.jsxs(oe,{children:[t.jsx(re,{style:{transform:`translateX(${-V*G}rem)`},children:d.map((e,r)=>t.jsxs(ae,{onClick:()=>I(e.nome_produto),children:[t.jsx(se,{src:pe(e.img_produto),alt:e.nome_produto}),t.jsx(ie,{children:e.nome_produto}),t.jsx(Q,{style:{textDecoration:"line-through"},children:X(e.preco_produto)}),t.jsx(Q,{style:{color:"#A87826"},children:X(e.preco_promocional_produto)}),t.jsx(Q,{children:me(e.parcela_produto)}),!R(e)&&t.jsxs(ce,{children:[t.jsx(F,{title:l[e.id_produto]?'Remover da lista "Amei"':'Adicionar à lista "Amei"',onClick:o=>{o.stopPropagation(),l[e.id_produto]?L(e.id_produto):W(e)},children:l[e.id_produto]?t.jsx(_e,{}):t.jsx(de,{})}),t.jsx(F,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?y(e.id_produto):C(e)},children:h[e.id_produto]?t.jsx(le,{}):t.jsx(ue,{})})]}),e?R(e)?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Produto indisponível"}):e.qtd_produto===0?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Avise quando chegar"}):t.jsx(x,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?y(e.id_produto):C(e)},children:h[e.id_produto]?"Remover do carrinho":"Adicionar ao carrinho"}):t.jsx(x,{children:"Produto indisponível"})]},e.id_produto||r))}),k&&t.jsx(Se,{children:t.jsxs(ModalInternalContainer,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsx(Subtitulo,{children:"Preencha os campos"}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiMailLine,{})}),t.jsx(InputProdutos,{type:"email",placeholder:"E-mail",value:v,onChange:e=>b(e.target.value)})]}),_&&t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiProductHuntLine,{})}),t.jsx(InputProdutos,{type:"text",value:_.nome_produto,readOnly:!0})]}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(ButtonLoginCadastro,{type:"submit",onClick:z,disabled:w||!v,style:{width:"10rem"},children:w?"Enviando...":"Enviar"}),t.jsx(ButtonLoginCadastro,{onClick:$,style:{width:"10rem"},children:"Fechar"})]})]})})]}),t.jsx(ne,{onClick:P,children:"❯"})]})]})}function at(){const{user:a}=s.useContext(he),[j,g]=s.useState([]),[d,f]=s.useState([]),[l,S]=s.useState({}),[h,i]=s.useState({}),[v,b]=s.useState(""),[_,J]=s.useState(null),[w,O]=s.useState(!1),[k,N]=s.useState(!1),B=Z();s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`listaAmei_${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});S(r)}},[a]),s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});i(r)}},[a]),s.useEffect(()=>{(async()=>{try{const o=(await u.get("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/produtos")).data.result;g(o);const n=o.filter(c=>c.categoria_produto.toLowerCase()==="alfaiataria"),p=ge(n);f(p)}catch(r){console.error("Erro ao buscar produtos:",r)}})()},[]);const W=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar à lista amei.");return}const r=a.id_user;try{const o=JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[];if(o.some(m=>m.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}`)).data.some(m=>m.id_produto===e.id_produto))return;const c=await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei",{id_user:r,id_produto:e.id_produto});if(c.status!==200&&c.status!==201)throw new Error('Erro ao adicionar o produto à lista "Amei".');o.push(e),localStorage.setItem(`listaAmei_${r}`,JSON.stringify(o)),S(m=>({...m,[e.id_produto]:!0}))}catch{console.error('Erro ao adicionar à lista "Amei"'),alert("Erro ao adicionar o produto à lista.")}},L=async e=>{try{const r=a.id_user;await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}/${e}`);const n=(JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[]).filter(p=>p.id_produto!==e);localStorage.setItem(`listaAmei_${r}`,JSON.stringify(n)),S(p=>({...p,[e]:!1}))}catch(r){console.error('Erro ao remover produto da lista "Amei":',r),alert("Erro ao remover o produto da lista.")}},C=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar ao carrinho.");return}const r=a.id_user;if(e.qtd_produto===0){alert("Você não pode colocar um produto sem estoque no carrinho.");return}else try{const o=JSON.parse(localStorage.getItem(`carrinho${r}`))||[];if(o.some(c=>c.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${r}`)).data.some(c=>c.id_produto===e.id_produto))return;await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho",{id_user:r,id_produto:e.id_produto,qtd_produto_carrinho:1}),o.push(e),localStorage.setItem(`carrinho${r}`,JSON.stringify(o)),i(c=>({...c,[e.id_produto]:!0}))}catch(o){console.error("Erro ao adicionar ao carrinho:",o),alert("Erro ao adicionar o produto no carrinho.")}},y=async e=>{try{await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${a.id_user}/${e}`);const o=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).filter(n=>n.id_produto!==e);localStorage.setItem(`carrinho${a.id_user}`,JSON.stringify(o)),i(n=>({...n,[e]:!1}))}catch(r){console.error("Erro ao remover produto do carrinho:",r),alert("Erro ao remover o produto do carrinho.")}},$=e=>{J(e),N(!k)},z=async e=>{e.preventDefault(),O(!0);const r={email_user:v,nome_produto:_.nome_produto};try{const o=await u.post(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/aviso/${_.nome_produto}`,r);o.status===200&&o.data.message==="E-mail enviado com sucesso!"?(alert("E-mail enviado com sucesso!"),b("")):alert(o.data.message||"Erro ao enviar e-mail.")}catch(o){console.error(o),(!o.response||o.response.status>=500)&&alert("Erro ao enviar e-mail.")}},I=e=>{B(`/produto/${e}`)},{counterSlideAlfaiataria:V,prevSlideAlfaiataria:P,nextSlideAlfaiataria:A}=Ue(d.length);s.useEffect(()=>{const e=setInterval(()=>{A()},6e3);return()=>clearInterval(e)},[A]);const[M,q]=s.useState(E());s.useEffect(()=>{const e=()=>{q(E())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);function E(){const e=window.innerWidth;return e<=360?"small-360":e<=430?"small":e<=630?"medium":e<=1220?"large":"extra-large"}const D={"small-360":{imageWidth:16,gapSize:1,paddingSize:.5},small:{imageWidth:19,gapSize:1,paddingSize:.5},medium:{imageWidth:14,gapSize:.75,paddingSize:.75},large:{imageWidth:16,gapSize:1,paddingSize:1},"extra-large":{imageWidth:19,gapSize:1,paddingSize:1}},{imageWidth:H,gapSize:U,paddingSize:T}=D[M],G=H+U+2*T;return t.jsxs(K,{children:[t.jsx(Y,{children:"Alfaiataria"}),t.jsxs(ee,{children:[t.jsx(te,{onClick:P,children:"❮"}),t.jsxs(oe,{children:[t.jsx(re,{style:{transform:`translateX(${-V*G}rem)`},children:d.map((e,r)=>t.jsxs(ae,{onClick:()=>I(e.nome_produto),children:[t.jsx(se,{src:pe(e.img_produto),alt:e.nome_produto}),t.jsx(ie,{children:e.nome_produto}),t.jsx(Q,{children:X(e.preco_produto)}),t.jsx(Q,{children:me(e.parcela_produto)}),!R(e)&&t.jsxs(ce,{children:[t.jsx(F,{title:l[e.id_produto]?'Remover da lista "Amei"':'Adicionar à lista "Amei"',onClick:o=>{o.stopPropagation(),l[e.id_produto]?L(e.id_produto):W(e)},children:l[e.id_produto]?t.jsx(_e,{}):t.jsx(de,{})}),t.jsx(F,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?y(e.id_produto):C(e)},children:h[e.id_produto]?t.jsx(le,{}):t.jsx(ue,{})})]}),e?R(e)?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Produto indisponível"}):e.qtd_produto===0?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},onClick:o=>{o.stopPropagation(),$(e)},children:"Avise quando chegar"}):t.jsx(x,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?y(e.id_produto):C(e)},children:h[e.id_produto]?"Remover do carrinho":"Adicionar ao carrinho"}):t.jsx(x,{children:"Produto indisponível"})]},e.id_produto||r))}),k&&t.jsx(Se,{children:t.jsxs(Oe,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsx(ye,{children:"Preencha os campos"}),t.jsxs(Ae,{children:[t.jsx(we,{children:t.jsx(Ne,{})}),t.jsx(ke,{type:"email",placeholder:"E-mail",value:v,onChange:e=>b(e.target.value)})]}),_&&t.jsxs(Ae,{children:[t.jsx(we,{children:t.jsx(Be,{})}),t.jsx(ke,{type:"text",value:_.nome_produto,readOnly:!0})]}),t.jsxs(Ae,{children:[t.jsx(Ee,{type:"submit",onClick:z,disabled:w||!v,style:{width:"10rem"},children:w?"Enviando...":"Enviar"}),t.jsx(Ee,{onClick:$,style:{width:"10rem"},children:"Fechar"})]})]})})]}),t.jsx(ne,{onClick:A,children:"❯"})]})]})}function st(){const{user:a}=s.useContext(he),[j,g]=s.useState([]),[d,f]=s.useState([]),[l,S]=s.useState({}),[h,i]=s.useState({}),[v,b]=s.useState(""),[_,J]=s.useState(null),[w,O]=s.useState(!1),[k,N]=s.useState(!1),B=Z();s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`listaAmei_${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});S(r)}},[a]),s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});i(r)}},[a]),s.useEffect(()=>{(async()=>{try{const o=(await u.get("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/produtos")).data.result;g(o);const n=o.filter(c=>c.categoria_produto.toLowerCase()==="macaquinhos"),p=ge(n);f(p)}catch(r){console.error("Erro ao buscar produtos:",r)}})()},[]);const W=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar à lista amei.");return}const r=a.id_user;try{const o=JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[];if(o.some(m=>m.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}`)).data.some(m=>m.id_produto===e.id_produto))return;const c=await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei",{id_user:r,id_produto:e.id_produto});if(c.status!==200&&c.status!==201)throw new Error('Erro ao adicionar o produto à lista "Amei".');o.push(e),localStorage.setItem(`listaAmei_${r}`,JSON.stringify(o)),S(m=>({...m,[e.id_produto]:!0}))}catch{console.error('Erro ao adicionar à lista "Amei"'),alert("Erro ao adicionar o produto à lista.")}},L=async e=>{try{const r=a.id_user;await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}/${e}`);const n=(JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[]).filter(p=>p.id_produto!==e);localStorage.setItem(`listaAmei_${r}`,JSON.stringify(n)),S(p=>({...p,[e]:!1}))}catch(r){console.error('Erro ao remover produto da lista "Amei":',r),alert("Erro ao remover o produto da lista.")}},C=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar ao carrinho.");return}const r=a.id_user;if(e.qtd_produto===0){alert("Você não pode colocar um produto sem estoque no carrinho.");return}else try{const o=JSON.parse(localStorage.getItem(`carrinho${r}`))||[];if(o.some(c=>c.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${r}`)).data.some(c=>c.id_produto===e.id_produto))return;await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho",{id_user:r,id_produto:e.id_produto,qtd_produto_carrinho:1}),o.push(e),localStorage.setItem(`carrinho${r}`,JSON.stringify(o)),i(c=>({...c,[e.id_produto]:!0}))}catch(o){console.error("Erro ao adicionar ao carrinho:",o),alert("Erro ao adicionar o produto no carrinho.")}},y=async e=>{try{await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${a.id_user}/${e}`);const o=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).filter(n=>n.id_produto!==e);localStorage.setItem(`carrinho${a.id_user}`,JSON.stringify(o)),i(n=>({...n,[e]:!1}))}catch(r){console.error("Erro ao remover produto do carrinho:",r),alert("Erro ao remover o produto do carrinho.")}},$=e=>{J(e),N(!k)},z=async e=>{e.preventDefault(),O(!0);const r={email_user:v,nome_produto:_.nome_produto};try{const o=await u.post(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/aviso/${_.nome_produto}`,r);o.status===200&&o.data.message==="E-mail enviado com sucesso!"?(alert("E-mail enviado com sucesso!"),b("")):alert(o.data.message||"Erro ao enviar e-mail.")}catch(o){console.error(o),(!o.response||o.response.status>=500)&&alert("Erro ao enviar e-mail.")}},I=e=>{B(`/produto/${e}`)},{counterSlideMacaquinhos:V,prevSlideMacaquinhos:P,nextSlideMacaquinhos:A}=Ge(d.length);s.useEffect(()=>{const e=setInterval(()=>{A()},6e3);return()=>clearInterval(e)},[A]);const[M,q]=s.useState(E());s.useEffect(()=>{const e=()=>{q(E())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);function E(){const e=window.innerWidth;return e<=360?"small-360":e<=430?"small":e<=630?"medium":e<=1220?"large":"extra-large"}const D={"small-360":{imageWidth:16,gapSize:1,paddingSize:.5},small:{imageWidth:19,gapSize:1,paddingSize:.5},medium:{imageWidth:14,gapSize:.75,paddingSize:.75},large:{imageWidth:16,gapSize:1,paddingSize:1},"extra-large":{imageWidth:19,gapSize:1,paddingSize:1}},{imageWidth:H,gapSize:U,paddingSize:T}=D[M],G=H+U+2*T;return t.jsxs(K,{children:[t.jsx(Y,{children:"Macaquinhos"}),t.jsxs(ee,{children:[t.jsx(te,{onClick:P,children:"❮"}),t.jsxs(oe,{children:[t.jsx(re,{style:{transform:`translateX(${-V*G}rem)`},children:d.map((e,r)=>t.jsxs(ae,{onClick:()=>I(e.nome_produto),children:[t.jsx(se,{src:pe(e.img_produto),alt:e.nome_produto}),t.jsx(ie,{children:e.nome_produto}),t.jsx(Q,{children:X(e.preco_produto)}),t.jsx(Q,{children:me(e.parcela_produto)}),!R(e)&&t.jsxs(ce,{children:[t.jsx(F,{title:l[e.id_produto]?'Remover da lista "Amei"':'Adicionar à lista "Amei"',onClick:o=>{o.stopPropagation(),l[e.id_produto]?L(e.id_produto):W(e)},children:l[e.id_produto]?t.jsx(_e,{}):t.jsx(de,{})}),t.jsx(F,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?y(e.id_produto):C(e)},children:h[e.id_produto]?t.jsx(le,{}):t.jsx(ue,{})})]}),e?R(e)?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Produto indisponível"}):e.qtd_produto===0?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Avise quando chegar"}):t.jsx(x,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?y(e.id_produto):C(e)},children:h[e.id_produto]?"Remover do carrinho":"Adicionar ao carrinho"}):t.jsx(x,{children:"Produto indisponível"})]},e.id_produto||r))}),k&&t.jsx(Se,{children:t.jsxs(ModalInternalContainer,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsx(Subtitulo,{children:"Preencha os campos"}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiMailLine,{})}),t.jsx(InputProdutos,{type:"email",placeholder:"E-mail",value:v,onChange:e=>b(e.target.value)})]}),_&&t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiProductHuntLine,{})}),t.jsx(InputProdutos,{type:"text",value:_.nome_produto,readOnly:!0})]}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(ButtonLoginCadastro,{type:"submit",onClick:z,disabled:w||!v,style:{width:"10rem"},children:w?"Enviando...":"Enviar"}),t.jsx(ButtonLoginCadastro,{onClick:$,style:{width:"10rem"},children:"Fechar"})]})]})})]}),t.jsx(ne,{onClick:A,children:"❯"})]})]})}function it(){const{user:a}=s.useContext(he),[j,g]=s.useState([]),[d,f]=s.useState([]),[l,S]=s.useState({}),[h,i]=s.useState({}),[v,b]=s.useState(""),[_,J]=s.useState(null),[w,O]=s.useState(!1),[k,N]=s.useState(!1),B=Z();s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`listaAmei_${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});S(r)}},[a]),s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});i(r)}},[a]),s.useEffect(()=>{(async()=>{try{const o=(await u.get("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/produtos")).data.result;g(o);const n=o.filter(c=>c.categoria_produto.toLowerCase()==="conjuntos"),p=ge(n);f(p)}catch(r){console.error("Erro ao buscar produtos:",r)}})()},[]);const W=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar à lista amei.");return}const r=a.id_user;try{const o=JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[];if(o.some(m=>m.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}`)).data.some(m=>m.id_produto===e.id_produto))return;const c=await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei",{id_user:r,id_produto:e.id_produto});if(c.status!==200&&c.status!==201)throw new Error('Erro ao adicionar o produto à lista "Amei".');o.push(e),localStorage.setItem(`listaAmei_${r}`,JSON.stringify(o)),S(m=>({...m,[e.id_produto]:!0}))}catch{console.error('Erro ao adicionar à lista "Amei"'),alert("Erro ao adicionar o produto à lista.")}},L=async e=>{try{const r=a.id_user;await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}/${e}`);const n=(JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[]).filter(p=>p.id_produto!==e);localStorage.setItem(`listaAmei_${r}`,JSON.stringify(n)),S(p=>({...p,[e]:!1}))}catch(r){console.error('Erro ao remover produto da lista "Amei":',r),alert("Erro ao remover o produto da lista.")}},C=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar ao carrinho.");return}const r=a.id_user;if(e.qtd_produto===0){alert("Você não pode colocar um produto sem estoque no carrinho.");return}else try{const o=JSON.parse(localStorage.getItem(`carrinho${r}`))||[];if(o.some(c=>c.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${r}`)).data.some(c=>c.id_produto===e.id_produto))return;await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho",{id_user:r,id_produto:e.id_produto,qtd_produto_carrinho:1}),o.push(e),localStorage.setItem(`carrinho${r}`,JSON.stringify(o)),i(c=>({...c,[e.id_produto]:!0}))}catch(o){console.error("Erro ao adicionar ao carrinho:",o),alert("Erro ao adicionar o produto no carrinho.")}},y=async e=>{try{await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${a.id_user}/${e}`);const o=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).filter(n=>n.id_produto!==e);localStorage.setItem(`carrinho${a.id_user}`,JSON.stringify(o)),i(n=>({...n,[e]:!1}))}catch(r){console.error("Erro ao remover produto do carrinho:",r),alert("Erro ao remover o produto do carrinho.")}},$=e=>{J(e),N(!k)},z=async e=>{e.preventDefault(),O(!0);const r={email_user:v,nome_produto:_.nome_produto};try{const o=await u.post(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/aviso/${_.nome_produto}`,r);o.status===200&&o.data.message==="E-mail enviado com sucesso!"?(alert("E-mail enviado com sucesso!"),b("")):alert(o.data.message||"Erro ao enviar e-mail.")}catch(o){console.error(o),(!o.response||o.response.status>=500)&&alert("Erro ao enviar e-mail.")}},I=e=>{B(`/produto/${e}`)},{counterSlideConjuntos:V,prevSlideConjuntos:P,nextSlideConjuntos:A}=Qe(d.length),[M,q]=s.useState(E());s.useEffect(()=>{const e=()=>{q(E())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);function E(){const e=window.innerWidth;return e<=360?"small-360":e<=430?"small":e<=630?"medium":e<=1220?"large":"extra-large"}const D={"small-360":{imageWidth:16,gapSize:1,paddingSize:.5},small:{imageWidth:19,gapSize:1,paddingSize:.5},medium:{imageWidth:14,gapSize:.75,paddingSize:.75},large:{imageWidth:16,gapSize:1,paddingSize:1},"extra-large":{imageWidth:19,gapSize:1,paddingSize:1}},{imageWidth:H,gapSize:U,paddingSize:T}=D[M],G=H+U+2*T;return t.jsxs(K,{children:[t.jsx(Y,{children:"Conjuntos"}),t.jsxs(ee,{children:[t.jsx(te,{onClick:P,children:"❮"}),t.jsxs(oe,{children:[t.jsx(re,{style:{transform:`translateX(${-V*G}rem)`},children:d.map((e,r)=>t.jsxs(ae,{onClick:()=>I(e.nome_produto),children:[t.jsx(se,{src:pe(e.img_produto),alt:e.nome_produto}),t.jsx(ie,{children:e.nome_produto}),t.jsx(Q,{children:X(e.preco_produto)}),t.jsx(Q,{children:me(e.parcela_produto)}),!R(e)&&t.jsxs(ce,{children:[t.jsx(F,{title:l[e.id_produto]?'Remover da lista "Amei"':'Adicionar à lista "Amei"',onClick:o=>{o.stopPropagation(),l[e.id_produto]?L(e.id_produto):W(e)},children:l[e.id_produto]?t.jsx(_e,{}):t.jsx(de,{})}),t.jsx(F,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?y(e.id_produto):C(e)},children:h[e.id_produto]?t.jsx(le,{}):t.jsx(ue,{})})]}),e?R(e)?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Produto indisponível"}):e.qtd_produto===0?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Avise quando chegar"}):t.jsx(x,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?y(e.id_produto):C(e)},children:h[e.id_produto]?"Remover do carrinho":"Adicionar ao carrinho"}):t.jsx(x,{children:"Produto indisponível"})]},e.id_produto||r))}),k&&t.jsx(Se,{children:t.jsxs(ModalInternalContainer,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsx(Subtitulo,{children:"Preencha os campos"}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiMailLine,{})}),t.jsx(InputProdutos,{type:"email",placeholder:"E-mail",value:v,onChange:e=>b(e.target.value)})]}),_&&t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiProductHuntLine,{})}),t.jsx(InputProdutos,{type:"text",value:_.nome_produto,readOnly:!0})]}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(ButtonLoginCadastro,{type:"submit",onClick:z,disabled:w||!v,style:{width:"10rem"},children:w?"Enviando...":"Enviar"}),t.jsx(ButtonLoginCadastro,{onClick:$,style:{width:"10rem"},children:"Fechar"})]})]})})]}),t.jsx(ne,{onClick:A,children:"❯"})]})]})}function nt(){const{user:a}=s.useContext(he),[j,g]=s.useState([]),[d,f]=s.useState([]),[l,S]=s.useState({}),[h,i]=s.useState({}),[v,b]=s.useState(""),[_,J]=s.useState(null),[w,O]=s.useState(!1),[k,N]=s.useState(!1),B=Z();s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`listaAmei_${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});S(r)}},[a]),s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});i(r)}},[a]),s.useEffect(()=>{(async()=>{try{const o=(await u.get("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/produtos")).data.result;g(o);const n=o.filter(c=>c.categoria_produto.toLowerCase()==="vestidos"),p=ge(n);f(p)}catch(r){console.error("Erro ao buscar produtos:",r)}})()},[]);const W=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar à lista amei.");return}const r=a.id_user;try{const o=JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[];if(o.some(m=>m.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}`)).data.some(m=>m.id_produto===e.id_produto))return;const c=await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei",{id_user:r,id_produto:e.id_produto});if(c.status!==200&&c.status!==201)throw new Error('Erro ao adicionar o produto à lista "Amei".');o.push(e),localStorage.setItem(`listaAmei_${r}`,JSON.stringify(o)),S(m=>({...m,[e.id_produto]:!0}))}catch{console.error('Erro ao adicionar à lista "Amei"'),alert("Erro ao adicionar o produto à lista.")}},L=async e=>{try{const r=a.id_user;await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}/${e}`);const n=(JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[]).filter(p=>p.id_produto!==e);localStorage.setItem(`listaAmei_${r}`,JSON.stringify(n)),S(p=>({...p,[e]:!1}))}catch(r){console.error('Erro ao remover produto da lista "Amei":',r),alert("Erro ao remover o produto da lista.")}},C=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar ao carrinho.");return}const r=a.id_user;if(e.qtd_produto===0){alert("Você não pode colocar um produto sem estoque no carrinho.");return}else try{const o=JSON.parse(localStorage.getItem(`carrinho${r}`))||[];if(o.some(c=>c.id_produto===e.id_produto))return;if(!a||!a.id_user){alert("Você precisa estar logado para adicionar ao carrinho.");return}if((await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${r}`)).data.some(c=>c.id_produto===e.id_produto))return;await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho",{id_user:r,id_produto:e.id_produto,qtd_produto_carrinho:1}),o.push(e),localStorage.setItem(`carrinho${r}`,JSON.stringify(o)),i(c=>({...c,[e.id_produto]:!0}))}catch(o){console.error("Erro ao adicionar ao carrinho:",o),alert("Erro ao adicionar o produto no carrinho.")}},y=e=>{J(e),N(!k)},$=async e=>{e.preventDefault(),O(!0);const r={email_user:v,nome_produto:_.nome_produto};try{const o=await u.post(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/aviso/${_.nome_produto}`,r);o.status===200&&o.data.message==="E-mail enviado com sucesso!"?(alert("E-mail enviado com sucesso!"),b("")):alert(o.data.message||"Erro ao enviar e-mail.")}catch(o){console.error(o),(!o.response||o.response.status>=500)&&alert("Erro ao enviar e-mail.")}},z=async e=>{try{await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${a.id_user}/${e}`);const o=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).filter(n=>n.id_produto!==e);localStorage.setItem(`carrinho${a.id_user}`,JSON.stringify(o)),i(n=>({...n,[e]:!1}))}catch(r){console.error("Erro ao remover produto do carrinho:",r),alert("Erro ao remover o produto do carrinho.")}},I=e=>{B(`/produto/${e}`)},{counterSlideVestidos:V,prevSlideVestidos:P,nextSlideVestidos:A}=Xe(d.length);s.useEffect(()=>{const e=setInterval(()=>{A()},6e3);return()=>clearInterval(e)},[A]);const[M,q]=s.useState(E());s.useEffect(()=>{const e=()=>{q(E())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);function E(){const e=window.innerWidth;return e<=360?"small-360":e<=430?"small":e<=630?"medium":e<=1220?"large":"extra-large"}const D={"small-360":{imageWidth:16,gapSize:1,paddingSize:.5},small:{imageWidth:19,gapSize:1,paddingSize:.5},medium:{imageWidth:14,gapSize:.75,paddingSize:.75},large:{imageWidth:16,gapSize:1,paddingSize:1},"extra-large":{imageWidth:19,gapSize:1,paddingSize:1}},{imageWidth:H,gapSize:U,paddingSize:T}=D[M],G=H+U+2*T;return t.jsxs(K,{children:[t.jsx(Y,{children:"Vestidos"}),t.jsxs(ee,{children:[t.jsx(te,{onClick:P,children:"❮"}),t.jsxs(oe,{children:[t.jsx(re,{style:{transform:`translateX(${-V*G}rem)`},children:d.map((e,r)=>t.jsxs(ae,{onClick:()=>I(e.nome_produto),children:[t.jsx(se,{src:pe(e.img_produto),alt:e.nome_produto}),t.jsx(ie,{children:e.nome_produto}),t.jsx(Q,{children:X(e.preco_produto)}),t.jsx(Q,{children:me(e.parcela_produto)}),!R(e)&&t.jsxs(ce,{children:[t.jsx(F,{title:l[e.id_produto]?'Remover da lista "Amei"':'Adicionar à lista "Amei"',onClick:o=>{o.stopPropagation(),l[e.id_produto]?L(e.id_produto):W(e)},children:l[e.id_produto]?t.jsx(_e,{}):t.jsx(de,{})}),t.jsx(F,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?z(e.id_produto):C(e)},children:h[e.id_produto]?t.jsx(le,{}):t.jsx(ue,{})})]}),e?R(e)?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Produto indisponível"}):e.qtd_produto===0?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Avise quando chegar"}):t.jsx(x,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?z(e.id_produto):C(e)},children:h[e.id_produto]?"Remover do carrinho":"Adicionar ao carrinho"}):t.jsx(x,{children:"Produto indisponível"})]},e.id_produto||r))}),k&&t.jsx(Se,{children:t.jsxs(ModalInternalContainer,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsx(Subtitulo,{children:"Preencha os campos"}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiMailLine,{})}),t.jsx(InputProdutos,{type:"email",placeholder:"E-mail",value:v,onChange:e=>b(e.target.value)})]}),_&&t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiProductHuntLine,{})}),t.jsx(InputProdutos,{type:"text",value:_.nome_produto,readOnly:!0})]}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(ButtonLoginCadastro,{type:"submit",onClick:$,disabled:w||!v,style:{width:"10rem"},children:w?"Enviando...":"Enviar"}),t.jsx(ButtonLoginCadastro,{onClick:y,style:{width:"10rem"},children:"Fechar"})]})]})})]}),t.jsx(ne,{onClick:A,children:"❯"})]})]})}function ct(){const{user:a}=s.useContext(he),[j,g]=s.useState([]),[d,f]=s.useState([]),[l,S]=s.useState({}),[h,i]=s.useState({}),[v,b]=s.useState(""),[_,J]=s.useState(null),[w,O]=s.useState(!1),[k,N]=s.useState(!1),B=Z();s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`listaAmei_${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});S(r)}},[a]),s.useEffect(()=>{if(a&&a.id_user){const r=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).reduce((o,n)=>(o[n.id_produto]=!0,o),{});i(r)}},[a]),s.useEffect(()=>{(async()=>{try{const o=(await u.get("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/produtos")).data.result;g(o);const n=o.filter(c=>c.categoria_produto.toLowerCase()==="shorts"),p=ge(n);f(p)}catch(r){console.error("Erro ao buscar produtos:",r)}})()},[]);const W=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar à lista amei.");return}const r=a.id_user;try{const o=JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[];if(o.some(m=>m.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}`)).data.some(m=>m.id_produto===e.id_produto))return;const c=await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei",{id_user:r,id_produto:e.id_produto});if(c.status!==200&&c.status!==201)throw new Error('Erro ao adicionar o produto à lista "Amei".');o.push(e),localStorage.setItem(`listaAmei_${r}`,JSON.stringify(o)),setListaAmeiStatus(m=>({...m,[e.id_produto]:!0}))}catch{console.error('Erro ao adicionar à lista "Amei"'),alert("Erro ao adicionar o produto à lista.")}},L=async e=>{try{const r=a.id_user;await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/lista-amei/${r}/${e}`);const n=(JSON.parse(localStorage.getItem(`listaAmei_${r}`))||[]).filter(p=>p.id_produto!==e);localStorage.setItem(`listaAmei_${r}`,JSON.stringify(n)),S(p=>({...p,[e]:!1}))}catch(r){console.error('Erro ao remover produto da lista "Amei":',r),alert("Erro ao remover o produto da lista.")}},C=async e=>{if(!(a!=null&&a.id_user)){alert("Você precisa estar logado para adicionar ao carrinho.");return}const r=a.id_user;if(e.qtd_produto===0){alert("Você não pode colocar um produto sem estoque no carrinho.");return}else try{const o=JSON.parse(localStorage.getItem(`carrinho${r}`))||[];if(o.some(c=>c.id_produto===e.id_produto)||(await u.get(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${r}`)).data.some(c=>c.id_produto===e.id_produto))return;await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho",{id_user:r,id_produto:e.id_produto,qtd_produto_carrinho:1}),o.push(e),localStorage.setItem(`carrinho${r}`,JSON.stringify(o)),i(c=>({...c,[e.id_produto]:!0}))}catch(o){console.error("Erro ao adicionar ao carrinho:",o),alert("Erro ao adicionar o produto no carrinho.")}},y=async e=>{try{await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/carrinho/${a.id_user}/${e}`);const o=(JSON.parse(localStorage.getItem(`carrinho${a.id_user}`))||[]).filter(n=>n.id_produto!==e);localStorage.setItem(`carrinho${a.id_user}`,JSON.stringify(o)),i(n=>({...n,[e]:!1}))}catch(r){console.error("Erro ao remover produto do carrinho:",r),alert("Erro ao remover o produto do carrinho.")}},$=e=>{J(e),N(!k)},z=async e=>{e.preventDefault(),O(!0);const r={email_user:v,nome_produto:_.nome_produto};try{const o=await u.post(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/aviso/${_.nome_produto}`,r);o.status===200&&o.data.message==="E-mail enviado com sucesso!"?(alert("E-mail enviado com sucesso!"),b("")):alert(o.data.message||"Erro ao enviar e-mail.")}catch(o){console.error(o),(!o.response||o.response.status>=500)&&alert("Erro ao enviar e-mail.")}},I=e=>{B(`/produto/${e}`)},{counterSlideShorts:V,prevSlideShorts:P,nextSlideShorts:A}=Ze(d.length);s.useEffect(()=>{const e=setInterval(()=>{A()},6e3);return()=>clearInterval(e)},[A]);const[M,q]=s.useState(E());s.useEffect(()=>{const e=()=>{q(E())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);function E(){const e=window.innerWidth;return e<=360?"small-360":e<=430?"small":e<=630?"medium":e<=1220?"large":"extra-large"}const D={"small-360":{imageWidth:16,gapSize:1,paddingSize:.5},small:{imageWidth:19,gapSize:1,paddingSize:.5},medium:{imageWidth:14,gapSize:.75,paddingSize:.75},large:{imageWidth:16,gapSize:1,paddingSize:1},"extra-large":{imageWidth:19,gapSize:1,paddingSize:1}},{imageWidth:H,gapSize:U,paddingSize:T}=D[M],G=H+U+2*T;return t.jsxs(K,{children:[t.jsx(Y,{children:"Shorts"}),t.jsxs(ee,{children:[t.jsx(te,{onClick:P,children:"❮"}),t.jsxs(oe,{children:[t.jsx(re,{style:{transform:`translateX(${-V*G}rem)`},children:d.map((e,r)=>t.jsxs(ae,{onClick:()=>I(e.nome_produto),children:[t.jsx(se,{src:pe(e.img_produto),alt:e.nome_produto}),t.jsx(ie,{children:e.nome_produto}),t.jsx(Q,{children:X(e.preco_produto)}),t.jsx(Q,{children:me(e.parcela_produto)}),!R(e)&&t.jsxs(ce,{children:[t.jsx(F,{title:l[e.id_produto]?'Remover da lista "Amei"':'Adicionar à lista "Amei"',onClick:o=>{o.stopPropagation(),l[e.id_produto]?L(e.id_produto):W(e)},children:l[e.id_produto]?t.jsx(_e,{}):t.jsx(de,{})}),t.jsx(F,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?y(e.id_produto):C(e)},children:h[e.id_produto]?t.jsx(le,{}):t.jsx(ue,{})})]}),e?R(e)?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Produto indisponível"}):e.qtd_produto===0?t.jsx(x,{style:{background:"#FFF",color:"#A87826"},children:"Avise quando chegar"}):t.jsx(x,{title:h[e.id_produto]?"Remover do carrinho":"Adicionar no carrinho",onClick:o=>{o.stopPropagation(),h[e.id_produto]?y(e.id_produto):C(e)},children:h[e.id_produto]?"Remover do carrinho":"Adicionar ao carrinho"}):t.jsx(x,{children:"Produto indisponível"})]},e.id_produto||r))}),k&&t.jsx(Se,{children:t.jsxs(ModalInternalContainer,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsx(Subtitulo,{children:"Preencha os campos"}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiMailLine,{})}),t.jsx(InputProdutos,{type:"email",placeholder:"E-mail",value:v,onChange:e=>b(e.target.value)})]}),_&&t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(LabelProdutos,{children:t.jsx(RiProductHuntLine,{})}),t.jsx(InputProdutos,{type:"text",value:_.nome_produto,readOnly:!0})]}),t.jsxs(FlexRowLabelInputLoginCadastro,{children:[t.jsx(ButtonLoginCadastro,{type:"submit",onClick:z,disabled:w||!v,style:{width:"10rem"},children:w?"Enviando...":"Enviar"}),t.jsx(ButtonLoginCadastro,{onClick:$,style:{width:"10rem"},children:"Fechar"})]})]})})]}),t.jsx(ne,{onClick:A,children:"❯"})]})]})}function Et(){return t.jsxs(Le.Fragment,{children:[t.jsx(Ye,{}),t.jsxs(Re,{children:[t.jsx(et,{}),t.jsx(Me,{}),t.jsx(rt,{}),t.jsx(at,{}),t.jsx(tt,{}),t.jsx(st,{}),t.jsx(it,{}),t.jsx(nt,{}),t.jsx(ct,{}),t.jsx(ot,{})]})]})}export{kt as F,Et as H,At as a,bt as b,wt as c};
