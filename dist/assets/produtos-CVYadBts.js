import{a,j as o,R as Uo,T as M,C as Vo,g as P,L as Ho}from"./GlobalStyles-Dqpp29B9.js";import{C as $o,a as po,b as g,h as C,I as Qo,L as t,d as s,F as Jo,e as l,i,S as _,B as f,f as Wo,j as Ko,k as q}from"./ProdutosStyle-8Z2-wOEa.js";import{b as xo,M as jo,c as D,d as Xo,e as mo}from"./index-D6JL9M7r.js";import{A as Yo,b as Zo,a as k}from"./index-DT7h3x8e.js";import{b as oe}from"./index-U_MZ96hN.js";import{G as ee,a as u}from"./axios-DnYME9kn.js";import{R as vo,M as re,L as B,B as ae}from"./UserDashboardStyles-BUujLACN.js";import{I as te,a as se}from"./index-CVGnD8mp.js";import{U as ne}from"./userContext-D66xfPlX.js";import{a as ie,B as le,b as ce}from"./NavBarStyles-CgKT-dJj.js";import{f as T,b as de}from"./Functions-CUekD-7M.js";import{T as ue,s as h,t as he,u as pe,v as Po,C as xe,B as go}from"./ProdutoStyles-CJ63-lzv.js";import{C as je}from"./CdRastreioStyles-rUZR9pxi.js";function Co(p){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM9 9H5V5h4v4zm11-6h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-1 6h-4V5h4v4zm-9 4H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1zm-1 6H5v-4h4v4zm8-6c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"},child:[]}]})(p)}function Me(){const{user:p,logout:_o}=a.useContext(ne),[b,E]=a.useState(""),[L,z]=a.useState(""),[x,w]=a.useState(""),[N,R]=a.useState(""),[G,O]=a.useState(""),[U,V]=a.useState(""),[H,$]=a.useState(""),[Q,S]=a.useState(""),[J,W]=a.useState(""),[j,K]=a.useState(""),[fo,bo]=a.useState([]),[X,Y]=a.useState(""),[Z,y]=a.useState(""),[oo,F]=a.useState(""),[eo,So]=a.useState(""),[d,ro]=a.useState(""),[ao,yo]=a.useState(""),[to,Fo]=a.useState(""),[I,Io]=a.useState(!1),[Ao,Mo]=a.useState(""),[so,no]=a.useState([]),A=10,[c,qo]=a.useState(1),io=(c-1)*A,Do=io+A,lo=so.slice(io,Do),co=Math.ceil(so.length/A),uo=e=>{qo(e)},[m,ko]=a.useState(""),v={alfaiataria:["Calças","Blazer","Shorts"],acessorios:["Bolsas","Bonés","Cintos"]},Bo=e=>{ko(e.target.value),S("")},To=["PP","P","M","G","GG"],Eo=["34","36","38","40","42","44"],Lo=["único"];a.useEffect(()=>{(async()=>{try{const r=await u.get("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/produtos");bo(r.data.result),no(r.data.result)}catch(r){console.error("Erro ao buscar todos os produtos.",r)}})()},[]);const zo=e=>{const r=e.target.value.toLowerCase();Mo(r);const n=fo.filter(Oo=>Oo.nome_produto.toLowerCase().includes(r));no(n)},wo=async e=>{e.preventDefault();const r=new FormData;r.append("img_produto",b),r.append("nome_produto",L),r.append("categoria_produto",x),r.append("preco_produto",N),r.append("parcela_produto",G),r.append("qtd_produto",U),r.append("cor_produto",H),r.append("tamanho_produto",Q),r.append("subcategoria_produto",J);try{(await u.post("https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/produto",r,{headers:{"Content-Type":"multipart/form-data"}})).data.result?(alert("Produto cadastrado com sucesso!"),E(""),z(""),w(""),R(""),O(""),V(""),$(""),S(""),W("")):alert("Erro ao cadastrar produto.")}catch(n){console.error("Erro ao cadastrar produto",n)}},No=async e=>{if(e.preventDefault(),!j||isNaN(j)){alert("Por favor, insira um ID de produto válido");return}try{(await u.delete(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/produto/${j}`)).data.result?(K(""),alert("Produto excluído com sucesso!")):alert("Erro ao excluir produto.")}catch(r){console.error("Erro ao excluir produto",r),alert("Erro ao excluir produto.")}},Ro=async e=>{e.preventDefault();const r={categoria_produto:"promocoes",preco_promocional_produto:Z,parcela_produto:oo};try{(await u.put(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/produto/${X}`,r)).data.result?(alert("Produto em promoção!"),Y(""),y(""),F("")):alert("Erro ao promover o produto")}catch(n){alert("Erro ao promover o produto"),console.error(n)}},Go=async e=>{e.preventDefault();const r={categoria_produto:d,preco_promocional_produto:null,parcela_produto:ao,subcategoria_produto:to};try{(await u.put(`https://test-aureaclothing-backend-466bc65ebfec.herokuapp.com/aurea/produto/${eo}`,r)).data.result?(alert("Produto não está mais em promoção."),ro(""),y(""),F("")):alert("Erro ao despromocionar o produto.")}catch(n){alert("Erro ao despromocionar o produto."),console.error(n)}},ho=()=>{Io(!I)};return o.jsxs(Uo.Fragment,{children:[I?o.jsxs(vo,{children:[o.jsx(te,{style:{fontSize:"2rem",color:"#A87826",cursor:"pointer"},onClick:ho}),o.jsxs(M,{children:["Boas-vindas, ",p.nome_user]})]}):o.jsxs(vo,{children:[o.jsx(se,{style:{fontSize:"2rem",color:"#A87826",cursor:"pointer"},onClick:ho}),o.jsxs(M,{children:["Boas-vindas, ",p.nome_user]})]}),I&&o.jsxs(re,{children:[o.jsx(B,{to:"/minha-conta",children:"Minha Conta"}),o.jsx(B,{to:"/pedidos-ativos",children:"Pedidos Ativos"}),o.jsx(B,{to:"/pedidos-encerrados",children:"Pedidos Encerrados"}),o.jsx(ae,{onClick:_o,children:"Sair"})]}),o.jsxs(Vo,{children:[o.jsx(M,{children:"Produtos"}),o.jsxs($o,{children:[o.jsxs(po,{children:[o.jsx(g,{children:o.jsxs(C,{children:[o.jsx(P,{style:{color:"#A87826"},children:"Cadastrar Produto no catálogo"}),o.jsx(Qo,{children:o.jsxs(t,{children:[o.jsx(s,{children:o.jsx(Yo,{})}),o.jsx("label",{htmlFor:"fileInput",children:"Escolher Imagem"}),o.jsx("input",{type:"file",id:"fileInput",required:!0,onChange:e=>E(e.target.files[0])}),b&&o.jsx(Jo,{children:b.name})]})}),o.jsxs(t,{children:[o.jsx(s,{htmlFor:"nome_produto",children:o.jsx(oe,{})}),o.jsx(l,{type:"text",placeholder:"Nome do Produto",id:"nome_produto",required:!0,value:L,onChange:e=>z(e.target.value)})]}),o.jsxs(t,{children:[o.jsx(s,{htmlFor:"categoria_produto",children:o.jsx(xo,{})}),o.jsxs(i,{id:"categoria_produto",required:!0,value:x,onChange:e=>w(e.target.value),children:[o.jsx("option",{value:"",children:"Categoria"}),o.jsx("option",{value:"alfaiataria",children:"Alfaiataria"}),o.jsx("option",{value:"blusas",children:"Blusas"}),o.jsx("option",{value:"jeans",children:"Jeans"}),o.jsx("option",{value:"macaquinhos",children:"Macaquinhos"}),o.jsx("option",{value:"conjuntos",children:"Conjuntos"}),o.jsx("option",{value:"vestidos",children:"Vestidos"}),o.jsx("option",{value:"saias",children:"Saias"}),o.jsx("option",{value:"shorts",children:"Shorts"}),o.jsx("option",{value:"acessorios",children:"Acessórios"}),o.jsx("option",{value:"lancamentos",children:"Lançamentos"}),o.jsx("option",{value:"promocoes",children:"Promoções"})]})]}),o.jsxs(t,{children:[o.jsx(s,{htmlFor:"preco_produto",children:o.jsx(jo,{})}),o.jsx(l,{type:"number",placeholder:"Preço do Produto",id:"preco_produto",required:!0,value:N,onChange:e=>R(e.target.value)})]}),o.jsxs(t,{children:[o.jsx(s,{htmlFor:"parcela_produto",children:o.jsx(D,{})}),o.jsxs(i,{id:"parcela_produto",required:!0,value:G,onChange:e=>O(e.target.value),children:[o.jsx("option",{value:"",children:"Parcelas disponíveis"}),o.jsx("option",{value:"1",children:"À vista"}),o.jsx("option",{value:"2",children:"2"}),o.jsx("option",{value:"3",children:"3"}),o.jsx("option",{value:"4",children:"4"}),o.jsx("option",{value:"5",children:"5"}),o.jsx("option",{value:"6",children:"6"}),o.jsx("option",{value:"7",children:"7"}),o.jsx("option",{value:"8",children:"8"}),o.jsx("option",{value:"9",children:"9"}),o.jsx("option",{value:"10",children:"10"}),o.jsx("option",{value:"11",children:"11"}),o.jsx("option",{value:"12",children:"12"})]})]}),o.jsxs(t,{children:[o.jsx(s,{htmlFor:"qtd_produto",children:o.jsx(Zo,{})}),o.jsx(l,{type:"number",placeholder:"Quantidade do Produto",id:"qtd_produto",required:!0,value:U,onChange:e=>V(e.target.value)})]}),o.jsxs(t,{children:[o.jsx(s,{htmlFor:"cor_produto",children:o.jsx(Xo,{})}),o.jsxs(i,{id:"cor_produto",required:!0,value:H,onChange:e=>$(e.target.value),children:[o.jsx("option",{value:"",children:"Cor"}),o.jsx("option",{value:"amarelo",children:"Amarelo"}),o.jsx("option",{value:"azul",children:"Azul"}),o.jsx("option",{value:"branco",children:"Branco"}),o.jsx("option",{value:"cinza",children:"Cinza"}),o.jsx("option",{value:"laranja",children:"Laranja"}),o.jsx("option",{value:"marrom",children:"Marrom"}),o.jsx("option",{value:"nude",children:"Nude"}),o.jsx("option",{value:"preto",children:"Preto"}),o.jsx("option",{value:"rosa",children:"Rosa"}),o.jsx("option",{value:"rosê",children:"Rosê"}),o.jsx("option",{value:"roxo",children:"Roxo"}),o.jsx("option",{value:"verde",children:"Verde"}),o.jsx("option",{value:"vermelho",children:"Vermelho"})]})]}),o.jsxs(t,{children:[o.jsx(s,{htmlFor:"tipo_tamanho",children:o.jsx(mo,{})}),o.jsxs(i,{id:"tipo_tamanho",value:m,onChange:Bo,children:[o.jsx("option",{value:"",children:"Tipo de tamanho"})," ",o.jsx("option",{value:"alfanumerico",children:"Alfanumérico (P, PP, M, G, GG)"}),o.jsx("option",{value:"numerico",children:"Numérico (34, 36, 38, 40, 42, 44)"}),o.jsx("option",{value:"unico",children:"Único"})," "]})]}),o.jsxs(t,{children:[o.jsx(s,{htmlFor:"tamanho_produto",children:o.jsx(mo,{})}),o.jsxs(i,{id:"tamanho_produto",required:!0,value:Q,onChange:e=>S(e.target.value),children:[o.jsx("option",{value:"",children:"Selecione o tamanho"})," ",m==="alfanumerico"?To.map(e=>o.jsx("option",{value:e,children:e},e)):m==="numerico"?Eo.map(e=>o.jsx("option",{value:e,children:e},e)):m==="unico"?Lo.map(e=>o.jsx("option",{value:e,children:e},e)):null]})]}),x in v&&o.jsxs(t,{children:[o.jsx(s,{htmlFor:"subcategoria_produto",children:o.jsx(Co,{})}),o.jsxs(i,{id:"subcategoria_produto",required:!0,value:J,onChange:e=>W(e.target.value),children:[o.jsx("option",{value:"",children:"Subcategoria"}),v[x].map(e=>o.jsx("option",{value:e.toLowerCase(),children:e},e))]})]}),o.jsx(_,{children:o.jsx(f,{onClick:wo,children:"Cadastrar"})})]})}),o.jsx(g,{children:o.jsxs(C,{children:[o.jsx(P,{style:{color:"#A87826"},children:"Excluir Produto do catálogo"}),o.jsxs(t,{children:[o.jsx(s,{htmlFor:"id_produto",children:o.jsx(k,{})}),o.jsx(l,{type:"number",id:"id_produto",placeholder:"ID do produto",value:j,onChange:e=>K(e.target.value)})]}),o.jsx(_,{children:o.jsx(f,{onClick:No,children:"Excluir"})})]})})]}),o.jsxs(po,{children:[o.jsx(g,{children:o.jsxs(C,{children:[o.jsx(P,{style:{color:"#A87826"},children:"Colocar produto em promoção"}),o.jsxs(t,{children:[o.jsx(s,{htmlFor:"id_promocao",children:o.jsx(k,{})}),o.jsx(l,{type:"number",id:"id_promocao",placeholder:"ID do produto",value:X,onChange:e=>Y(e.target.value)})]}),o.jsxs(t,{children:[o.jsx(s,{htmlFor:"preco_promocao",children:o.jsx(jo,{})}),o.jsx(l,{type:"number",id:"preco_promocao",placeholder:"Novo preço promocional",value:Z,onChange:e=>y(e.target.value)})]}),o.jsxs(t,{children:[o.jsx(s,{htmlFor:"parcela_promocao",children:o.jsx(D,{})}),o.jsxs(i,{id:"parcela_promocao",required:!0,value:oo,onChange:e=>F(e.target.value),children:[o.jsx("option",{value:"",children:"Parcelas disponíveis"}),o.jsx("option",{value:"1",children:"À vista"}),o.jsx("option",{value:"2",children:"2"}),o.jsx("option",{value:"3",children:"3"}),o.jsx("option",{value:"4",children:"4"}),o.jsx("option",{value:"5",children:"5"}),o.jsx("option",{value:"6",children:"6"}),o.jsx("option",{value:"7",children:"7"}),o.jsx("option",{value:"8",children:"8"}),o.jsx("option",{value:"9",children:"9"}),o.jsx("option",{value:"10",children:"10"}),o.jsx("option",{value:"11",children:"11"}),o.jsx("option",{value:"12",children:"12"})]})]}),o.jsx(_,{children:o.jsx(f,{onClick:Ro,children:"Colocar Promoção"})})]})}),o.jsx(g,{children:o.jsxs(C,{children:[o.jsx(P,{style:{color:"#A87826"},children:"Remover promoção do produto"}),o.jsxs(t,{children:[o.jsx(s,{htmlFor:"id_promocao",children:o.jsx(k,{})}),o.jsx(l,{type:"number",id:"id_promocao",placeholder:"ID do produto",value:eo,onChange:e=>So(e.target.value)})]}),o.jsxs(t,{children:[o.jsx(s,{htmlFor:"categoria_despromocao",children:o.jsx(xo,{})}),o.jsxs(i,{id:"categoria_despromocao",required:!0,value:d,onChange:e=>ro(e.target.value),children:[o.jsx("option",{value:"",children:"Categoria"}),o.jsx("option",{value:"alfaiataria",children:"Alfaiataria"}),o.jsx("option",{value:"blusas",children:"Blusas"}),o.jsx("option",{value:"jeans",children:"Jeans"}),o.jsx("option",{value:"macaquinhos",children:"Macaquinhos"}),o.jsx("option",{value:"conjuntos",children:"Conjuntos"}),o.jsx("option",{value:"vestidos",children:"Vestidos"}),o.jsx("option",{value:"saias",children:"Saias"}),o.jsx("option",{value:"shorts",children:"Shorts"}),o.jsx("option",{value:"acessorios",children:"Acessórios"}),o.jsx("option",{value:"lancamentos",children:"Lançamentos"}),o.jsx("option",{value:"promocoes",children:"Promoções"})]})]}),o.jsxs(t,{children:[o.jsx(s,{htmlFor:"parcela_promocao",children:o.jsx(D,{})}),o.jsxs(i,{id:"parcela_promocao",required:!0,value:ao,onChange:e=>yo(e.target.value),children:[o.jsx("option",{value:"",children:"Parcelas disponíveis"}),o.jsx("option",{value:"1",children:"À vista"}),o.jsx("option",{value:"2",children:"2"}),o.jsx("option",{value:"3",children:"3"}),o.jsx("option",{value:"4",children:"4"}),o.jsx("option",{value:"5",children:"5"}),o.jsx("option",{value:"6",children:"6"}),o.jsx("option",{value:"7",children:"7"}),o.jsx("option",{value:"8",children:"8"}),o.jsx("option",{value:"9",children:"9"}),o.jsx("option",{value:"10",children:"10"}),o.jsx("option",{value:"11",children:"11"}),o.jsx("option",{value:"12",children:"12"})]})]}),d&&d in v&&o.jsxs(t,{children:[o.jsx(s,{htmlFor:"subcategoria_despromocao",children:o.jsx(Co,{})}),o.jsxs(i,{id:"subcategoria_despromocao",required:!0,value:to,onChange:e=>Fo(e.target.value),children:[o.jsx("option",{value:"",children:"Subcategoria"}),v[d].map(e=>o.jsx("option",{value:e.toLowerCase(),children:e},e))]})]}),o.jsx(_,{children:o.jsx(f,{onClick:Go,children:"Remover Promoção"})})]})})]})]}),o.jsxs(je,{children:[o.jsx(ie,{type:"text",name:"searchProduto",id:"searchProduto",value:Ao,placeholder:"Produto que procura?",onChange:zo}),o.jsx(le,{children:o.jsx(ce,{})})]}),o.jsx(Wo,{children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx(ue,{children:"ID"}),o.jsx(h,{children:"Imagem"}),o.jsx(h,{children:"Nome"}),o.jsx(h,{children:"Categoria"}),o.jsx(h,{children:"Preço"}),o.jsx(he,{children:"Parcela"}),o.jsx(pe,{children:"Quantidade"}),o.jsx(Po,{children:"Cor"}),o.jsx(Po,{children:"Tamanho"}),o.jsx(h,{children:"Subcategoria"})]})}),o.jsx("tbody",{children:Array.isArray(lo)&&lo.map(e=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx(Ho,{to:`/produto/${e.nome_produto}`,style:{textDecoration:"none",color:"#A87826"},children:e.id_produto})}),o.jsx("td",{children:o.jsx(Ko,{src:e.img_produto,alt:e.nome_produto})}),o.jsx("td",{children:e.nome_produto}),o.jsx("td",{children:e.categoria_produto}),o.jsx("td",{children:e.categoria_produto==="promocoes"?o.jsxs(o.Fragment,{children:[o.jsx("span",{style:{textDecoration:"line-through"},children:o.jsx(q,{children:T(e.preco_produto)})}),o.jsx("span",{style:{color:"#A87826"},children:o.jsx(q,{children:T(e.preco_promocional_produto)})})]}):o.jsx("span",{children:o.jsx(q,{children:T(e.preco_produto)})})}),o.jsx("td",{children:de(e.parcela_produto)}),o.jsx("td",{children:e.qtd_produto}),o.jsx("td",{children:e.cor_produto}),o.jsx("td",{children:e.tamanho_produto}),o.jsx("td",{children:e.subcategoria_produto})]},e.id_produto))})]})}),o.jsxs(xe,{children:[o.jsx(go,{disabled:c===1,onClick:()=>uo(c-1),children:"Anterior"}),o.jsxs("span",{children:["Página ",c," de ",co]}),o.jsx(go,{disabled:c===co,onClick:()=>uo(c+1),children:"Próxima"})]})]})]})}export{Me as P};
